% Lista de lugares
lugar(l1).
lugar(l2).
lugar(l3).
lugar(l4).
lugar(l5).
lugar(l6).
lugar(l7).
lugar(l8).
lugar(l9).
lugar(l10).
lugar(l11).
lugar(l12).
lugar(l13).
lugar(l14).
lugar(l15).
lugar(l16).
lugar(l17).
lugar(l18).
lugar(l19).
lugar(l20).
lugar(l21).
lugar(l22).
lugar(l23).
lugar(l24).
lugar(l25).


% Conexiones de entradas y salidas
conecta_con(l1, n9).
conecta_con(n9, l1).
conecta_con(l2, n7).
conecta_con(n7, l2).
conecta_con(l3, n23).
conecta_con(n23, l3).
conecta_con(l4, n47).
conecta_con(n47, l4).
conecta_con(l5, n24).
conecta_con(n24, l5).
conecta_con(l6, n49).
conecta_con(n49, l6).
conecta_con(l7, n4).
conecta_con(n4, l7).
conecta_con(l8, n53).
conecta_con(n53, l8).
conecta_con(l9, n5).
conecta_con(n5, l9).
conecta_con(l10, n15).
conecta_con(n15, l10).
conecta_con(l11, n50).
conecta_con(n50, l11).
conecta_con(l12, n42).
conecta_con(n42, l12).
conecta_con(l13, n56).
conecta_con(n56, l13).
conecta_con(l14, n64).
conecta_con(n64, l14).
conecta_con(l15, n6).
conecta_con(n6, l15).
conecta_con(l16, n26).
conecta_con(n26, l16).
conecta_con(l17, n27).
conecta_con(n27, l17).
conecta_con(l18, n33).
conecta_con(n33, l18).
conecta_con(l19, n19).
conecta_con(n19, l19).
conecta_con(l20, n20).
conecta_con(n20, l20).
conecta_con(l21, n30).
conecta_con(n30, l21).
conecta_con(l22, n59).
conecta_con(n59, l22).
conecta_con(l23, n22).
conecta_con(n22, l23).
conecta_con(l24, n34).
conecta_con(n34, l24).
conecta_con(l25, n70).
conecta_con(n70, l25).

% Conexiones de calles
conecta_con(n1, n2).
conecta_con(n2, n1).
conecta_con(n2, n3).
conecta_con(n3, n2).
conecta_con(n3, n4).
conecta_con(n3, n13).
conecta_con(n4, n3).
conecta_con(n4, n5).
conecta_con(n5, n4).
conecta_con(n6, n17).
conecta_con(n7, n1).
conecta_con(n8, n9).
conecta_con(n8, n23).
conecta_con(n9, n8).
conecta_con(n9, n10).
conecta_con(n10, n7).
conecta_con(n10, n9).
conecta_con(n10, n11).
conecta_con(n11, n10).
conecta_con(n11, n12).
conecta_con(n11, n36).
conecta_con(n12, n11).
conecta_con(n12, n13).
conecta_con(n12, n24).
conecta_con(n13, n3).
conecta_con(n13, n12).
conecta_con(n13, n14).
conecta_con(n14, n13).
conecta_con(n14, n15).
conecta_con(n14, n39).
conecta_con(n15, n14).
conecta_con(n15, n16).
conecta_con(n16, n15).
conecta_con(n16, n17).
conecta_con(n16, n25).
conecta_con(n17, n6).
conecta_con(n17, n16).
conecta_con(n17, n26).
conecta_con(n18, n19).
conecta_con(n18, n29).
conecta_con(n19, n18).
conecta_con(n19, n20).
conecta_con(n20, n19).
conecta_con(n20, n21).
conecta_con(n21, n20).
conecta_con(n21, n22).
conecta_con(n23, n35).
conecta_con(n24, n12).
conecta_con(n24, n37).
conecta_con(n25, n26).
conecta_con(n25, n32).
conecta_con(n26, n17).
conecta_con(n26, n27).
conecta_con(n27, n26).
conecta_con(n27, n28).
conecta_con(n28, n27).
conecta_con(n28, n29).
conecta_con(n28, n33).
conecta_con(n29, n28).
conecta_con(n29, n30).
conecta_con(n29, n44).
conecta_con(n30, n29).
conecta_con(n30, n31).
conecta_con(n31, n21).
conecta_con(n31, n30).
conecta_con(n32, n25).
conecta_con(n32, n40).
conecta_con(n33, n28).
conecta_con(n33, n43).
conecta_con(n34, n31).
conecta_con(n35, n36).
conecta_con(n35, n47).
conecta_con(n36, n11).
conecta_con(n36, n35).
conecta_con(n36, n37).
conecta_con(n36, n48).
conecta_con(n37, n24).
conecta_con(n37, n36).
conecta_con(n37, n38).
conecta_con(n38, n37).
conecta_con(n38, n39).
conecta_con(n39, n14).
conecta_con(n39, n38).
conecta_con(n39, n50).
conecta_con(n40, n32).
conecta_con(n40, n41).
conecta_con(n40, n50).
conecta_con(n41, n40).
conecta_con(n41, n55).
conecta_con(n42, n41).
conecta_con(n43, n42).
conecta_con(n43, n33).
conecta_con(n43, n42).
conecta_con(n43, n57).
conecta_con(n44, n43).
conecta_con(n44, n58).
conecta_con(n45, n44).
conecta_con(n45, n60).
conecta_con(n46, n34).
conecta_con(n46, n45).
conecta_con(n47, n51).
conecta_con(n48, n36).
conecta_con(n48, n49).
conecta_con(n49, n48).
conecta_con(n49, n51).
conecta_con(n50, n39).
conecta_con(n50, n40).
conecta_con(n50, n54).
conecta_con(n51, n49).
conecta_con(n51, n52).
conecta_con(n52, n38).
conecta_con(n53, n54).
conecta_con(n54, n50).
conecta_con(n54, n53).
conecta_con(n54, n55).
conecta_con(n55, n41).
conecta_con(n55, n54).
conecta_con(n55, n56).
conecta_con(n55, n63).
conecta_con(n56, n55).
conecta_con(n56, n57).
conecta_con(n57, n43).
conecta_con(n57, n56).
conecta_con(n57, n58).
conecta_con(n57, n65).
conecta_con(n58, n57).
conecta_con(n58, n59).
conecta_con(n58, n66).
conecta_con(n59, n58).
conecta_con(n59, n60).
conecta_con(n60, n45).
conecta_con(n60, n54).
conecta_con(n60, n61).
conecta_con(n60, n67).
conecta_con(n61, n46).
conecta_con(n61, n60).
conecta_con(n61, n62).
conecta_con(n62, n61).
conecta_con(n63, n55).
conecta_con(n63, n64).
conecta_con(n64, n65).
conecta_con(n65, n57).
conecta_con(n65, n66).
conecta_con(n66, n67).
conecta_con(n67, n60).
conecta_con(n67, n68).
conecta_con(n67, n70).
conecta_con(n68, n61).
conecta_con(n68, n69).
conecta_con(n69, n62).
conecta_con(n70, n67).

% Regla ir_hacia/2
:- dynamic(ruta/1).

ir_hacia(Origen, Destino, Ruta):-
  abolish(ruta, 1),
  assert(ruta(Origen)),
  ir_hacia_rec(Origen, Destino, [Origen], Ruta),
  !.

ir_hacia_rec(Destino, Destino, Ruta, Ruta).

ir_hacia_rec(Origen, Destino, Visitados, Ruta):-
  conecta_con(Origen, Siguiente),
  not(member(Siguiente, Visitados)),
  assert(ruta(Siguiente)),
  ir_hacia_rec(Siguiente, Destino, [Siguiente|Visitados], Ruta).
  
obtener_ruta(Ruta):-
  findall(X, ruta(X), Ruta).
